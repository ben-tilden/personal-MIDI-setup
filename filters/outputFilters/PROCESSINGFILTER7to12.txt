# processing filter

# option to add chromatic playing for only one part of the drum
# option to add pitch to individual parts for beats 
# option to add slapback

IF LOAD
  # uncomment (and add more) to further set up information here
  # SET Q2 +H
  # SET Q3 +H
  # SET Q7 +H
  # see 1.
  ALIAS I0 padMode
  ASS padMode = 0
END

# sysex reception

# init
IF M0 == F0
  IF M2 == 1C
    # uncomment (and add more) to further set up information here
    # SET Q2 +H
    # SET Q3 +H
    # SET Q7 +H
    # see 1.
    ASS padMode = 0
    # see 2.
    SET Q3 DRUM_TRACKING 0 2 +MENU
    # see 3.
    ASS J0 = 0
    ASS J1 = 0
    ASS J2 = 0
    ASS J3 = 0
    # see 7.
    ASS K1 = 7E # remote control event
    ASS K2 = 0
    SET Q0 INTERVAL $-12 $12
    ASS Q0 = 0 # current fixed interval level
    # TEST
    LOG LOCAL_SETUP_RESET
    # END TEST
    BLOCK
    EXIT
  END
END

# 1. switch MIDI from Beats

# sysex reception

IF M0 == F0
  IF M2 == 0C
    ASS padMode = M3
    # TEST
    # ensure localsetup receives padMode
    LOG padMode_SYSEX_RECEIVED padMode
    # END TEST
    BLOCK
    EXIT
  END
END

# if padMode is one, block channel 10 24 - 2C and 30
IF padMode == 1
  N9 24-2C = XX XX +B
  N9 30 = XX XX +B
END
