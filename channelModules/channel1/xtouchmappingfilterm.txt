// xtouch mapping filter

@Onload
  channel = 0
@End

// sysex reception

@OnSysex
  ReceiveSysex sysexData

  // block all sysex except channel and init

  if sysexData[0] = 0x11 and sysexData[1] = 0x1C
    channel = 0
  elseif sysexData[0] <> 0x3F // will receive padMode as well
    Exit
  elseif sysexData[1] = 0xXX // TODO what val is channel
    channel = sysexData[2]
  endif

@End

@OnMIDICC
  SendMIDIThruOnCh channel
@End

@OnMIDINoteOn
  MIDICC = MIDIByte2 + 19
  SendMIDIOut channelCC, 0x7C, MIDICC
@End

@OnMIDINoteOff
  MIDICC = MIDIByte2 + 19
  SendMIDIOut channelCC, 0x7D, MIDICC
@End